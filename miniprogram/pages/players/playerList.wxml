<!--miniprogram/pages/players/playerList.wxml-->

<mp-navigation-bar loading="{{loading}}" show="{{true}}" animated="{{animated}}" color="{{/*'red'*/}}" background="{{'white'}}" title="{{title}}" back="{{true}}"></mp-navigation-bar>

<view style="width: 100%; align-items: center; flex-direction: row; display: flex; margin-top: 40rpx; margin-bottom: 40rpx;">

  <view style=" flex: 1;color: grey; display: flex; justify-content: center; " >
    选择4～8人继续:（{{selectedCount}}）
    </view>
    
  <button 
    class="weui-btn" type="primary" 
    disabled="{{nextDisable}}"
    size="mini"  bindtap="onPlayerSelected"
    style="margin-left: 40rpx;margin-right: 40rpx;" >
  	下一步
  </button>
 
</view>

<view class="player-list-item"
  wx:for="{{players}}" wx:key="{{item._id}}"
  data-id="{{item._id}}" bindtap="onSelectPlayer">

  <!-- <label >
    <checkbox value="{{item._id}}" checked="{{item.checked}}"/>{{item.name}}
  </label> -->

  	<image wx:if="{{!item.checked}}" class="checkbox" 
      data-id="{{item._id}}" catchtap="onSelectPlayer"
      src="../../images/icon-emptybox.svg" mode="aspectFit">
      </image>
  	<image wx:else class="checkbox" 
      data-id="{{item._id}}" catchtap="onSelectPlayer"
      src="../../images/icon-checkbox.svg" mode="aspectFit">
      </image>

    <image class="avatar" 
      data-id="{{item._id}}" catchtap="onSelectPlayer"
      src="{{item.avatarUrl}}">
      </image>

	  <view class="player-item-name" data-id="{{item._id}}" catchtap="onSelectPlayer">
      {{item.name}}
    </view>

</view>

<view wx:if="{{noMore}}" class="footer" >
  -------- 已经到底了 --------
</view>
<view wx:else class="footer" >
  <button style="background: transparent; width: 0rpx; margin: 0;" 
    loading="true" disabled="true" ></button>
  加载中......
</view>

