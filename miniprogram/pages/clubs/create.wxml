<!--miniprogram/pages/clubs/create.wxml-->
<mp-navigation-bar loading="{{loading}}" show="{{true}}" animated="{{animated}}" color="{{/*'red'*/}}" background="{{'white'}}" title="{{title}}" back="{{true}}"></mp-navigation-bar>

<view class="page-body">

  <view class="page-section">

    <view class="weui-cells__title">
      <Span style="color: red;font-size: 20px;vertical-align: middle;padding: 10rpx;">*</Span>
      每个用户仅可以创建一个俱乐部，请谨慎填写
    </view>

    <View style="flex-direction: row;display: flex;" >

      <View style="flex: 1;">
        <view class="weui-cells__title">创建人</view>
        <view class="weui-cells weui-cells_after-title">
          <view class="weui-cell weui-cell_input" style="height: 80rpx;" >
            <input class="weui-input" auto-focus value="{{creator}}" disabled="true"
              bindinput="onInputWholdName" />
          </view>
        </view>
      </View>

      <View style="flex: 1;align-items: center;display: flex;flex-direction: row;margin-bottom: -80rpx;" >
        <view class="weui-cells__title" style="flex: 2;margin: 40rpx 0rpx 40rpx 40rpx;">请上传俱乐部LOGO</view>
        <view class="weui-cells_after-title" style="flex: 2; margin: 20rpx 40rpx 20rpx 0rpx;" >
          <van-uploader 
            max-count="1" 
            file-list="{{ fileList }}"
            accept="image"
            max-size="{{ 204800 }}"
            deletable="{{ true }}"
            bind:delete="deleteLogo"
            bind:after-read="afterRead" 
            bind:oversize="oversize" />
        </view>
      </View>

    </View>

    <view class="weui-cells__title">名称<Span style="color: red;font-size: 20px;vertical-align: middle;padding: 10rpx;">*</Span></view>
    <view class="weui-cells weui-cells_after-title">
      <view class="weui-cell weui-cell_input" style="height: 100rpx;" >
        <input class="weui-input" auto-focus placeholder="请输入俱乐部名称"
        	bindinput="onInputWholdName" />
      </view>
    </view>

    <view class="weui-cells__title">缩写<Span style="color: red;font-size: 20px;vertical-align: middle;padding: 10rpx;">*</Span></view>
    <view class="weui-cells weui-cells_after-title">
      <view class="weui-cell weui-cell_input" style="height: 100rpx;" >
        <input class="weui-input" placeholder="请输入俱乐部缩写"
        	bindinput="onInputShortName" />
      </view>
    </view>

    <view class="weui-cells__title">是否公开</view>
    <view class="weui-cells weui-cells_after-title">
      <view class="weui-cell weui-cell_input" style="height: 100rpx; color: grey" >
        <View style="flex:9;">{{publicInfo}}</View>
        <switch class="weui-switch switch-button" type="switch" 
          bindchange="onSwitchPublic"/>
      </view>
    </view>
    <view class="weui-cells__title" style="margin-top: 5rpx;color: orange;" >
      注意：非公开的俱乐部不会在搜索结果中出现，只可以通过其他成员分享邀请方式加入。
    </view>

    <view class="weui-cells__title">密码（可选填）</view>
    <view class="weui-cells weui-cells_after-title">
      <view class="weui-cell weui-cell_input" style="height: 100rpx;" >
        <input class="weui-input" password type="text" placeholder="设置密码" 
          bindinput="onInputPassword" />
      </view>
    </view>
    <view class="weui-cells weui-cells_after-title">
      <view class="weui-cell weui-cell_input" style="height: 100rpx;" >
        <input class="weui-input" password type="text" placeholder="重复输入密码"
          bindinput="onReinputPassword" />
      </view>
    </view>

  </view>

  <button 
    class="weui-btn" type="primary" 
    size="normal"
    loading="{{loading}}"
    style="margin-top: 50rpx; margin-bottom: 50rpx;" 
    bindtap="onCreateClub">
    {{btnText}}
  </button>

</view>

