<!--miniprogram/pages/matchList/matchList.wxml-->

<!-- <mp-actionSheet bindactiontap="btnClick" show="{{showActionsheet}}" actions="{{actions}}" title="这是一个标题，可以为一行或者两行。">
</mp-actionSheet> -->

<mp-navigation-bar loading="{{false}}" show="{{true}}" animated="{{animated}}" color="{{/*'red'*/}}" background="{{'white'}}" title="{{title}}" back="{{true}}"></mp-navigation-bar>

<!-- <view style="flex-direction:row;"> -->
<!-- <mp-searchbar bindselectresult="selectResult" search="{{search}}"></mp-searchbar> -->
<button 
  class="weui-btn" type="primary" 
  size="mini" bindtap="onNewGame"
  style="margin-top: 40rpx; margin-bottom: 40rpx;" >
  新建
</button>
<!-- </view> -->

<view 
	wx:for="{{matches}}"
  wx:key="{{item._id}}" 
  class="match-list-block" >

	<navigator 
    class="match-list-navigator" 
    url="../matches/detail?action=old&clubid={{item.clubid}}&matchid={{item._id}}" 
    open-type="navigate" >
	  
    <view class="match-date">
      {{item.createDate}}
      </view>

    <view class="match-progress-block">
      <view wx:if="{{(item.finish==0)}}" 
        class="match-progress-progress-full"></view>
      <view wx:elif="{{(item.finish==item.total)}}" 
        class="match-progress-finish-full"></view>
      <block wx:else >
        <view class="match-progress-finish"
          style="flex:{{item.finish}}"></view>  
        <view class="match-progress"
          style="flex:{{item.total-item.finish}}"></view>
      </block>
    </view>
    
    <view class="match-info-block"> 

      <view class="match-info-line"> 
        <view class="match-info-title">
          参赛人数
        </view>
        <view class="match-info-content">
          {{item.playerCount}}人
        </view>
      </view>

      <view class="match-info-line"
        style="border-left: 1px solid #E5E5E5; border-right: 1px solid #E5E5E5;"> 
        <view class="match-info-title">
          完成场数
        </view>
        <view class="match-info-content"
          style="color: blue">
          {{item.finish}}场
        </view>
      </view>

      <view class="match-info-line"> 
        <view class="match-info-title">
          总场数
        </view>
        <view class="match-info-content"
          style="color: orange">
          {{item.total}}场
        </view>
      </view>

    </view>  

	</navigator>

</view>



